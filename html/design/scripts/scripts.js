var Key,PLEvent=function(){function e(){this._handlers=[],this._scope=this||window}return e.prototype.add=function(e){e&&this._handlers.push(e)},e.prototype.fire=function(){for(var t=this,n=[],e=0;e<arguments.length;e++)n[e]=arguments[e];this._handlers.forEach(function(e){e.apply(t._scope,n)})},e.prototype.remove=function(t){this._handlers=this._handlers.filter(function(e){if(e!=t)return e})},e}();!function(e){e[e.ALT=18]="ALT",e[e.CAPS_LOCK=20]="CAPS_LOCK",e[e.CTRL=17]="CTRL",e[e.DOWN_ARROW=40]="DOWN_ARROW",e[e.LEFT_ARROW=37]="LEFT_ARROW",e[e.RIGHT_ARROW=39]="RIGHT_ARROW",e[e.SELECT=93]="SELECT",e[e.SHIFT=16]="SHIFT",e[e.UP_ARROW=38]="UP_ARROW",e[e.TAB=9]="TAB"}(Key=Key||{});var Validator=function(){function o(){}return o.count=function(e,t){var n=o.toString(e);return"undefined"!==n&&"null"!==n&&"NaN"!==n&&"Infinity"!==n&&n.length===t},o.creditCardNumber=function(e){return!!o.isString(e)&&/^(\d{4}-?){3}\d{4}$/.test(e)},o.date=function(e){if(!o.isString(e))return!1;if(!/^\d{1,2}\/|-\d{1,2}\/|-\d{4}$/.test(e))return!1;var t=e.split(/\/|-/),n=parseInt(t[0],10),i=parseInt(t[1],10),r=parseInt(t[2],10);if(r<1e3||3e3<r||0==i||12<i)return!1;var s=[31,28,31,30,31,30,31,31,30,31,30,31];return(r%400==0||r%100!=0&&r%4==0)&&(s[1]=29),0<n&&n<=s[i-1]},o.datetime=function(e){throw"Not implemented yet"},o.email=function(e){return!!o.isString(e)&&/[\w-\.]{3,}@([\w-]{2,}\.)*([\w-]{2,}\.)[\w-]{2,4}/.test(e)},o.equality=function(e,t){return!(!o.isString(e)&&!o.isString(t))&&e===t},o.hash=function(e){return!!o.isString(e)&&/^#\w*/.test(e)},o.notEmpty=function(e){return!!o.isString(e)&&!!e.length},o.phone=function(e){return!!o.isString(e)&&10===e.replace(/[^\d]/g,"").length},o.range=function(e,t,n){var i=o.toString(e);return"undefined"!==i&&"null"!==i&&"NaN"!==i&&"Infinity"!==i&&(t=o.toInteger(t),"number"!=typeof(n=o.toInteger(n))||isNaN(n)?i.length>=t:i.length>=t&&i.length<=n)},o.url=function(e){return!!o.isString(e)&&/(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?/.test(e)},o.isArray=function(e){return e instanceof Array},o.isBoolean=function(e){return"boolean"==typeof e},o.isNumber=function(e){return"number"==typeof e},o.isString=function(e){return"string"==typeof e},o.toFloat=function(e){return parseFloat(e)},o.toInteger=function(e){return parseInt(e)},o.toString=function(e){return String(e)},o}(),Util=function(){function e(){}return e.capitalizeText=function(e){return e.replace(/\w/,function(e){return e.toUpperCase()})},e.extendsDefaults=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var n={},i=0;i<e.length;i++)!function(e){var t;for(t in e)e.hasOwnProperty(t)&&(n[t]=e[t])}(e[i]);return n},e}(),Classie=function(){function n(){}return n.addClass=function(e,t){e.classList?e.classList.add(t):n.hasClass(e,t)||(e.className+=" "+t)},n.hasClass=function(e,t){return e.classList?e.classList.contains(t):new RegExp("\\b"+t+"\\b").test(e.className)},n.removeClass=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("\\b"+t+"\\b","g"),"")},n.reset=function(e){e.className=""},n.toggleClass=function(e,t){e.classList?e.classList.toggle(t):n.hasClass(e,t)?n.removeClass(e,t):n.addClass(e,t)},n}(),ContactForm=function(){function e(e,t){if(void 0===t&&(t={}),this._letCloseWindow=!0,this._req=new XMLHttpRequest,this._settings={},!(e instanceof HTMLElement))throw"Template is not an HTMLFormElement";this._element=e,this._settings=Util.extendsDefaults({url:"process-ajax.php",useAjax:!0,inputSelectors:["input[type=text]","select","textarea"]},t),this.initializeEvents()}return e.prototype.ajaxRequest=function(e){var t=this._settings,n="data="+JSON.stringify(e);this.onSending(),this._req.open("POST",t.url,!0),this._req.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),this._req.send(n)},e.prototype.beforeUnload=function(){if(!this._letCloseWindow)return"Sending message"},e.prototype.disableForm=function(){var t=this;this._disabled?Classie.addClass(this.element,"disabled"):Classie.removeClass(this.element,"disabled"),[].forEach.call(this.inputs,function(e){e.disabled=t._disabled})},e.prototype.getInputContainer=function(e,t){for(var n=e;n=n.parentNode;)if(n instanceof HTMLElement){if(t&&Classie.hasClass(n,"input-container"))break;if(!t&&(Classie.hasClass(n,"input-group")||"fieldset"===n.tagName.toLowerCase()))break}return n},e.prototype.handleChange=function(e){var t,n;this.isInvalidKey(e.which||e.keyCode||0)||(t=e.target,n=this.validate(t),this.onInputChange(t,n))},e.prototype.handleReadyStateChange=function(e){4===this._req.readyState&&(200===this._req.status?this.onSuccess(this._req.responseText,this._req.status,this._req.statusText):this.onError(this._req.status,this._req.statusText))},e.prototype.initializeEvents=function(){var t=this;this.beforeUnload=this.beforeUnload.bind(this),this.handleChange=this.handleChange.bind(this),this.submit=this.submit.bind(this),this.handleReadyStateChange=this.handleReadyStateChange.bind(this),[].forEach.call(this.inputs,function(e){"text"!==e.type&&"textarea"!==e.tagName.toLowerCase()||e.addEventListener("keyup",t.handleChange,!1),e.addEventListener("change",t.handleChange,!1)}),this.element.addEventListener("submit",this.submit,!1),window.onbeforeunload=this.beforeUnload,this._req.onreadystatechange=this.handleReadyStateChange},e.prototype.isInvalidKey=function(e){for(var t=[Key.ALT,Key.CAPS_LOCK,Key.CTRL,Key.DOWN_ARROW,Key.LEFT_ARROW,Key.RIGHT_ARROW,Key.SELECT,Key.SHIFT,Key.UP_ARROW,Key.TAB],n=0;n<t.length;n++)if(t[n]===e)return!0;return!1},e.prototype.isCheckboxValid=function(e){var t=e.name,n=this.checkboxes[t],i=!1;return n.forEach(function(e){e.checked&&(i=!0)}),i},e.prototype.isRadioValid=function(e){var t=e.name,n=this.radios[t],i=!1;return n.forEach(function(e){e.checked&&(i=!0)}),i},e.prototype.isTextValid=function(e){if("string"!=typeof e.dataset.validate)return!0;for(var s=e.dataset.validate.split("|"),o=e.name,a=e.value,l=!1,c=this,t=0;t<s.length;t++){if("break"===function(e){var t,n,i=s[e],r=[];r.push(a);try{-1<s[e].indexOf(":")&&(i=s[e].slice(0,s[e].indexOf(":")),n=s[e].slice(s[e].indexOf(":")+1),"equality"===i?(t=c.texts.filter(function(e){return e.name===n}),r.push(t[0].value)):r=r.concat(n.split(","))),l=Validator[i].apply(c,r)}catch(e){"console"in window&&console.log('Unknown "%s" validation in "%s" input',i,o)}if(!l)return"break"}(t))break}return l},e.prototype.toggleInputError=function(e,t){var n,i=e.type,r=e["clue-elem"],s="checkbox"!==i&&"radio"!==i,o=this.getInputContainer(e,s);t?(r&&(r.parentNode.removeChild(r),e["clue-elem"]=null),Classie.removeClass(e,"invalid"),o&&Classie.removeClass(o,"invalid")):(r||(n=e.dataset.clue||"Invalid",(r=document.createElement("span")).innerText=n,Classie.addClass(r,"input-clue"),e["clue-elem"]=r,e.parentNode.insertBefore(r,e)),Classie.addClass(e,"invalid"),o&&Classie.addClass(o,"invalid"))},e.prototype.validate=function(e){var t,n=this,i=e.type,r=e.name;return"checkbox"===i?(t=this.isCheckboxValid(e),this.checkboxes[r].forEach(function(e){n.toggleInputError(e,t)})):"radio"===i?(t=this.isRadioValid(e),this.radios[r].forEach(function(e){n.toggleInputError(e,t)})):(t=this.isTextValid(e),this.toggleInputError(e,t)),t||this.onInputError(e),t},e.prototype.getFormValues=function(){var t,n,i={};return[].forEach.call(this.inputs,function(e){t=e.name,"checkbox"===(n=e.type)&&e.checked&&("string"==typeof i[t]?i[t]+=", "+e.value:i[t]=e.value),"radio"===n&&e.checked&&(i[t]=e.value),"text"!==n&&"hidden"!==n&&"textarea"!==e.tagName.toLowerCase()||(i[t]=e.value)}),i},e.prototype.isFormValid=function(){var e,t,n=this,i=!0;for(e in this.checkboxes)t=this.checkboxes[e][0],this.validate(t)||(i=!1);for(e in this.radios)t=this.radios[e][0],this.validate(t)||(i=!1);return this.texts.forEach(function(e){n.validate(e)||(i=!1)}),i},e.prototype.reset=function(){this.element.reset()},e.prototype.submit=function(e){if(this.isFormValid()){if(this._settings.useAjax){if(this._disabled)return;e&&e.preventDefault();var t={host:location.hostname,data:this.getFormValues()};this.ajaxRequest(t)}}else e&&e.preventDefault()},e.prototype.onError=function(e,t){this._error&&this._error.fire(e,t),this.disabled=!1,this._letCloseWindow=!0},e.prototype.onInputChange=function(e,t){this._inputChange&&this._inputChange.fire(e,t)},e.prototype.onInputError=function(e){this._inputError&&this._inputError.fire(e)},e.prototype.onSending=function(){this._sending&&this._sending.fire(),this.disabled=!0,this._letCloseWindow=!1},e.prototype.onSuccess=function(e,t,n){this._success&&this._success.fire(e,t,n),this.disabled=!1,this._letCloseWindow=!0;var i=parseInt(e);isNaN(i)||1!==i||this.reset()},Object.defineProperty(e.prototype,"error",{get:function(){return this._error||(this._error=new PLEvent),this._error},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"inputError",{get:function(){return this._inputError||(this._inputError=new PLEvent),this._inputError},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"inputChange",{get:function(){return this._inputChange||(this._inputChange=new PLEvent),this._inputChange},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"sending",{get:function(){return this._sending||(this._sending=new PLEvent),this._sending},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"success",{get:function(){return this._success||(this._success=new PLEvent),this._success},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"disabled",{get:function(){return this._disabled},set:function(e){e!==this._disabled&&(this._disabled=e,this.disableForm())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"element",{get:function(){return this._element},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"inputs",{get:function(){var e;return this._inputs||(e=this._settings.inputSelectors,this._inputs=this._element.querySelectorAll(e.join(","))),this._inputs},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"checkboxes",{get:function(){var t=this;return this._checkboxes||(this._checkboxes={},[].forEach.call(this.inputs,function(e){"checkbox"===e.type&&(t._checkboxes.hasOwnProperty(e.name)||(t._checkboxes[e.name]=[]),t._checkboxes[e.name].push(e))})),this._checkboxes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"radios",{get:function(){var t=this;return this._radios||(this._radios={},[].forEach.call(this.inputs,function(e){"radio"===e.type&&(t._radios.hasOwnProperty(e.name)||(t._radios[e.name]=[]),t._radios[e.name].push(e))})),this._radios},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"texts",{get:function(){var t=this;return this._texts||(this._texts=[],[].forEach.call(this.inputs,function(e){"text"!==e.type&&"hidden"!==e.type&&"textarea"!==e.tagName.toLowerCase()||t._texts.push(e)})),this._texts},enumerable:!1,configurable:!0}),e}(),ScrollFire=function(){function e(e,t){if(this.isScrolling=!1,this._inview=null,this._elements=null,this.settings=Util.extendsDefaults({method:"markerOver",markerPercentage:55,rangeMin:10,rangeMax:90},t),this.method=this["is"+Util.capitalizeText(this.settings.method)],!this.isAllowedType(e))throw"Make sure that elements you're passing HTMLElement, HTMLCollection, Node or NodeList";if("function"!=typeof this.method)throw"Method "+this.settings.method+" does not exist";this._elements=e,this.initEvents()}return e.prototype.initEvents=function(){this.scrolling=this.scrolling.bind(this),this.throttleScroll=this.throttleScroll.bind(this),window.addEventListener("load",this.scrolling,!1),window.addEventListener("scroll",this.throttleScroll,!1),window.addEventListener("resize",this.throttleScroll,!1)},e.prototype.onInview=function(e){this.inview&&this.inview.fire(e)},e.prototype.scrolling=function(e){for(var t=("length"in this.elements?this.elements:[this.elements]),n=0,i=t.length;n<i;n++)this.method.call(this,t[n])?(Classie.addClass(t[n],"inview"),this.onInview(t[n])):Classie.removeClass(t[n],"inview")},e.prototype.throttleScroll=function(e){var t=this,n=this.reqAnimFrame;!1===this.isScrolling&&n(function(){t.scrolling(e),t.isScrolling=!1}),this.isScrolling=!0},e.prototype.isAllowedType=function(e){for(var t=[HTMLElement,HTMLCollection,Node,NodeList],n=0;n<t.length;n++)if(e instanceof t[n])return!0;return!1},Object.defineProperty(e.prototype,"inview",{get:function(){return this._inview||(this._inview=new PLEvent),this._inview},enumerable:!1,configurable:!0}),e.prototype.isFullyVisible=function(e){var t=e.getBoundingClientRect(),n=t.top,i=t.bottom;return 0<=n&&i<=window.innerHeight},e.prototype.isInRange=function(e){var t=window.innerHeight*(this.settings.rangeMin/100),n=window.innerHeight*(this.settings.rangeMax/100),i=e.getBoundingClientRect();return i.top<=n&&i.bottom>=t},e.prototype.isMarkerOver=function(e){var t=this.settings.markerPercentage/100,n=e.getBoundingClientRect(),i=n.top,r=n.height,s=window.innerHeight*t;return i<s&&s<i+r},e.prototype.isPartiallyVisible=function(e){var t=e.getBoundingClientRect(),n=t.top,i=t.bottom,r=t.height;return 0<=n+r&&r+window.innerHeight>=i},Object.defineProperty(e.prototype,"elements",{get:function(){return this._elements},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reqAnimFrame",{get:function(){return this._reqAnimFrame||(this._reqAnimFrame=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){setTimeout(e,1e3/60)}),this._reqAnimFrame},enumerable:!1,configurable:!0}),e}();!function(){"use strict";function r(e,t,n){var i;"function"==typeof window.gtag&&"string"==typeof e&&"string"==typeof t&&(i={event_category:e,event_label:n||""},window.gtag("event",t,i),"console"in window&&console.log("ga: [category: %s, action: %s, label: %s]",e,t,n||""))}function i(e,t){e.style.display=t?"block":"none"}"serviceWorker"in navigator&&navigator.serviceWorker.register("sw.js").then(function(e){console.log("Service worker registered.")}).catch(function(e){console.log("Can not find service worker.")});var e=document.querySelector(".contact-form"),s=e.querySelector(".message"),o=e.querySelector(".wrapper"),t=new ContactForm(e,{url:"handle-send-mail.php",useAjax:!0,inputSelectors:["input[type=text]","input[type=checkbox]","input[type=radio]","select","textarea"]});t.error.add(function(e,t){console.log("There was an error. \nStatus: %s\nStatusText: %s",e,t),r("Contacto","Error al enviar mensaje"),s.innerText="Ocurrió un error, por favor intentalo más tarde.",setTimeout(function(){i(o,!0),i(s,!1),s.innerText=""},3e3)}),t.sending.add(function(){console.log("Sending..."),r("Contacto","Enviando mensaje"),i(o,!1),i(s,!0),s.innerText="Enviando... "}),t.success.add(function(e,t,n){console.log(e),1===parseInt(e)?(console.log("The message has been sent successfuly. \nStatus: %s\nStatusText: %s",t,n),r("Contacto","Mensaje enviado"),s.innerText="Tu mensaje ha sido enviado correctamente."):(r("Contacto","Error al enviar mensaje"),s.innerText="Ocurrió un error, por favor intentalo más tarde."),setTimeout(function(){i(o,!0),i(s,!1),s.innerText=""},3e3)}),t.inputChange.add(function(e,t){var n=e.name;console.log("Input %s has changed",n)}),window.addEventListener("load",function(e){var t,n,i;t=document.querySelectorAll("[class*=inview]"),[].forEach.call(t,function(e){new ScrollFire(e,{method:"inRange",rangeMin:10,rangeMax:90}).inview.add(function(e){Classie.hasClass(e,"apply-inview")||Classie.addClass(e,"apply-inview")})}),$.stellar({horizontalScrolling:!1,verticalScrolling:!0,horizontalOffset:0,verticalOffset:0,responsive:!1,scrollProperty:"scroll",positionProperty:"position",parallaxBackgrounds:!0,parallaxElements:!0,hideDistantElements:!0,hideElement:function(e){e.hide()},showElement:function(e){e.show()}}),n=document.querySelectorAll(".ga-button"),[].forEach.call(n,function(e){e.addEventListener("click",function(e){r(e.currentTarget.dataset.category,e.currentTarget.dataset.action)})}),(i=document.querySelector(".loader"))&&(i.classList.remove("loader-visible"),setTimeout(function(){i.style.zIndex="-1"},575))})}();